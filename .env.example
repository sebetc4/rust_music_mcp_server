# =============================================================================
# MCP Server Environment Configuration
# =============================================================================
#
# This file documents all available environment variables for the MCP server.
# Copy this file to `.env` and customize for your environment.
#
# IMPORTANT: Never commit `.env` files with real API keys to version control!
#
# For detailed documentation, see: documentation/guides/configuration.md
#

# =============================================================================
# Server Configuration
# =============================================================================

# Server name reported to MCP clients
# Default: "mcp-server"
# MCP_SERVER_NAME=music-mcp-server

# Log level: trace, debug, info, warn, error
# Default: "info"
# MCP_LOG_LEVEL=info

# Optional base path for file resources
# MCP_RESOURCES_BASE_PATH=/path/to/resources

# =============================================================================
# Transport Configuration
# =============================================================================
# Choose one of: stdio, tcp, http
# Default: stdio (standard MCP protocol)

# --- STDIO Transport (Default) ---
# Standard input/output - default MCP mode
# No configuration needed
# MCP_TRANSPORT=stdio

# --- TCP Transport ---
# Use TCP sockets for JSON-RPC communication
MCP_TRANSPORT=tcp
MCP_TCP_PORT=3000
MCP_TCP_HOST=127.0.0.1

# --- HTTP Transport ---
# Use HTTP for JSON-RPC communication
# MCP_TRANSPORT=http
# MCP_HTTP_PORT=8080
# MCP_HTTP_HOST=127.0.0.1
# MCP_HTTP_PATH=/mcp
# MCP_HTTP_CORS=true

# =============================================================================
# Security Configuration
# =============================================================================

# --- Path Security ---
# Optional root directory for file system operations
# When set, all file/directory operations will be restricted to this path
# and its subdirectories. Path traversal attacks (../) will be blocked.
#
# Example: /home/user/music
#
# If not set, no path restrictions are enforced (backwards compatible).
# RECOMMENDED: Always set this in production for security.
#
# MCP_ROOT_PATH=/path/to/your/music/library

# Allow symlinks in file operations
# Default: true (symlinks are followed and validated)
# Set to false to completely block symlink usage
# MCP_ALLOW_SYMLINKS=true

# =============================================================================
# External API Credentials
# =============================================================================

# --- AcoustID API Key ---
# Used by: mb_identify_record tool
# Purpose: Audio fingerprinting and identification
#
# Get your free API key at: https://acoustid.org/api-key
#
# A default public key is provided for testing, but you should get your own
# key for production use to avoid rate limits.
#
# IMPORTANT: Keep this key secret! Do not commit to version control.
#
MCP_ACOUSTID_API_KEY=your_api_key_here

# --- Future API Integrations ---
# Add new API credentials below as they are implemented

# Spotify API (example - not yet implemented)
# MCP_SPOTIFY_CLIENT_ID=your_client_id
# MCP_SPOTIFY_CLIENT_SECRET=your_client_secret

# Last.fm API (example - not yet implemented)
# MCP_LASTFM_API_KEY=your_api_key
# MCP_LASTFM_SHARED_SECRET=your_shared_secret

# =============================================================================
# Development vs Production
# =============================================================================

# For development:
# - Use .env file with this configuration
# - Enable debug logging: MCP_LOG_LEVEL=debug
# - Use HTTP transport for easier testing

# For production:
# - Use system environment variables (more secure)
# - Keep log level at info or warn
# - Use TCP or STDIO transport
# - Never use default API keys
# - Monitor rate limits

# =============================================================================
# Security Best Practices
# =============================================================================

# 1. Never commit .env files with real credentials to version control
# 2. Use different API keys for development and production
# 3. Rotate API keys periodically
# 4. Monitor API usage and rate limits
# 5. Use system environment variables in production
# 6. Restrict file permissions on .env files: chmod 600 .env
# 7. Always set MCP_ROOT_PATH in production to restrict file access
# 8. Review symlink policy (MCP_ALLOW_SYMLINKS) based on your security needs

# =============================================================================
# Troubleshooting
# =============================================================================

# If environment variables are not being loaded:
# 1. Check .env file is in project root
# 2. Verify file permissions (must be readable)
# 3. Ensure no syntax errors (no spaces around =)
# 4. System environment variables override .env values
# 5. Restart the server after changing configuration

# For more help, see:
# - Documentation: documentation/guides/configuration.md
# - Config source code: src/core/config.rs
